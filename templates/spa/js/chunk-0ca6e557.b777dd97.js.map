{"version":3,"sources":["webpack:///./src/views/admin/children/e_n_page.vue?15dd","webpack:///./src/views/admin/children/e_n_page.vue","webpack:///./src/views/admin/children/e_n_page.vue?080a"],"names":["class","style","for","form","title","type","id","url_name","send","editor","data","config","editorConfig","visibility","redirect","components","ckeditor","component","modal","language","mounted","$route","name","$api","pages","getDataEdit","params","then","response","methods","newPages","state","$router","push","updateDataPage","this","render"],"mappings":"yIAAA,W,8DCCOA,MAAM,uB,GAEDC,MAAA,gC,GACCD,MAAM,Q,EACT,yBAA+D,SAAxDE,IAAI,QAAQF,MAAM,cAAa,qBAAiB,G,GAGpDA,MAAM,Q,EACT,yBAAmE,SAA5DE,IAAI,MAAMF,MAAM,cAAa,2BAAuB,G,GAM5DA,MAAM,I,EAMT,yBAA4C,OAAvCA,MAAM,QAAO,wBAAoB,G,8LApB1C,yBAiBM,MAjBN,EAiBM,CAhBJ,yBAYM,YAXJ,yBAUO,OAVP,EAUO,CATL,yBAGM,MAHN,EAGM,CAFJ,E,4BACA,yBAAwE,S,qDAAxD,EAAAG,KAAKC,MAAK,IAAEC,KAAK,OAAOL,MAAM,eAAeM,GAAG,S,4BAAhD,EAAAH,KAAKC,WAEvB,yBAGM,MAHN,EAGM,CAFJ,E,4BACA,yBAAyE,S,qDAAzD,EAAAD,KAAKI,SAAQ,IAAEF,KAAK,OAAOL,MAAM,eAAeM,GAAG,O,4BAAnD,EAAAH,KAAKI,cAEvB,yBAAoF,UAA5EF,KAAK,SAASL,MAAM,gBAAiB,QAAK,0DAAU,EAAAQ,MAAA,EAAAA,KAAA,qBAAI,eAAE,iBAGtE,yBAEM,MAFN,EAEM,CADJ,yBAAiF,GAAtEC,OAAQ,EAAAA,O,WAAiB,EAAAN,KAAKO,K,qDAAL,EAAAP,KAAKO,KAAI,IAAGC,OAAQ,EAAAC,c,6CAG5D,yBAMQ,GANAC,WAAY,EAAAA,WAAa,QAAK,+BAAE,EAAAA,YAAc,EAAAA,c,+BACpD,iBAIM,CAJN,yBAIM,OAJDb,MAAM,gBAAiB,QAAK,wCAAN,cAAW,Y,CACpC,EACA,yBAAwF,UAAhFA,MAAM,qBAAsB,QAAK,+BAAE,EAAAa,YAAc,EAAAA,cAAY,cACrE,yBAA0E,UAAlEb,MAAM,sBAAuB,QAAK,8BAAE,EAAAc,UAAA,EAAAA,SAAA,sBAAU,qB,sHAW7C,G,UAAA,CACbC,WAAY,CACVC,SAAU,IAASC,UACnBC,QAAA,MAEFR,KALa,WAMX,MAAO,CACLG,YAAY,EACZJ,OAAQ,IACRN,KAAM,CACJC,MAAO,KACPG,SAAU,KACVG,KAAM,MAERE,aAAc,CACZO,SAAU,QAIVC,QAnBO,WAmBI,wJACU,eAArB,EAAKC,OAAOC,MACd,EAAKC,KAAKC,MAAMC,YAAY,EAAKJ,OAAOK,OAAOpB,IAC5CqB,MAAK,SAAAC,GACAA,EAASlB,KAAKJ,KAAI,EAAKH,KAAOyB,EAASlB,SAJlC,8CAQjBmB,QAAS,CACDrB,KADC,WACO,2JACa,cAArB,EAAKa,OAAOC,KADJ,gCAEJ,EAAKC,KAAKC,MAAMM,SAAS,EAAK3B,MACjCwB,MAAK,SAAAC,GACwB,UAAxBA,EAASlB,KAAKqB,OAAmB,EAAKC,QAAQC,KAAK,CAAEX,KAAM,aAJzD,gCAMoB,eAArB,EAAKD,OAAOC,KANX,gCAOJ,EAAKC,KAAKC,MAAMU,eAAe,EAAK/B,KAAKG,GAAI,EAAKH,MACrDwB,MAAK,SAAAC,GACwB,UAAxBA,EAASlB,KAAKqB,QAAmB,EAAKlB,YAAa,MATjD,8CAadC,SAdO,WAeLqB,KAAKH,QAAQC,KAAK,CAAEX,KAAM,c,UCvEhC,EAAOc,OAASA,EAED","file":"templates/spa/js/chunk-0ca6e557.b777dd97.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./e_n_page.vue?vue&type=style&index=0&id=342a0dec&lang=css\"","<template>\r\n  <div class=\"edit_container mt-4\">\r\n    <div>\r\n      <form style=\"position: sticky; top: 90px;\">\r\n        <div class=\"mb-3\">\r\n          <label for=\"title\" class=\"form-label\">Название страницы</label>\r\n          <input v-model=\"form.title\" type=\"text\" class=\"form-control\" id=\"title\">\r\n        </div>\r\n        <div class=\"mb-3\">\r\n          <label for=\"url\" class=\"form-label\">название страницы в url</label>\r\n          <input v-model=\"form.url_name\" type=\"text\" class=\"form-control\" id=\"url\">\r\n        </div>\r\n        <button type=\"submit\" class=\"btn btn_admin\" @click.prevent=\"send\">Сохранить</button>\r\n      </form>\r\n    </div>\r\n    <div class=\"\">\r\n      <ckeditor :editor=\"editor\" v-model=\"form.data\" :config=\"editorConfig\"></ckeditor>\r\n    </div>\r\n  </div>\r\n  <modal :visibility=\"visibility\" @click=\"visibility = !visibility\">\r\n    <div class=\"modal_confirm\" @click.stop>\r\n      <div class=\"mb-4\">Изменения сохранены!</div>\r\n      <button class=\"btn_ btn_secondary\" @click=\"visibility = !visibility\">Продолжить</button>\r\n      <button class=\"btn_ btn_admin ml-3\" @click=\"redirect\">К страницам</button>\r\n    </div>\r\n  </modal>\r\n</template>\r\n\r\n<script>\r\nimport modal from '@/components/modal.vue'\r\nimport CKEditor from '@ckeditor/ckeditor5-vue'\r\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic'\r\nimport '@ckeditor/ckeditor5-build-classic/build/translations/ru'\r\n\r\nexport default {\r\n  components: {\r\n    ckeditor: CKEditor.component,\r\n    modal\r\n  },\r\n  data () {\r\n    return {\r\n      visibility: false,\r\n      editor: ClassicEditor,\r\n      form: {\r\n        title: null,\r\n        url_name: null,\r\n        data: null\r\n      },\r\n      editorConfig: {\r\n        language: 'ru'\r\n      }\r\n    }\r\n  },\r\n  async mounted () {\r\n    if (this.$route.name === 'Pages_edit') {\r\n      this.$api.pages.getDataEdit(this.$route.params.id)\r\n        .then(response => {\r\n          if (response.data.id) this.form = response.data\r\n        })\r\n    }\r\n  },\r\n  methods: {\r\n    async send () {\r\n      if (this.$route.name === 'Pages_new') {\r\n        await this.$api.pages.newPages(this.form)\r\n          .then(response => {\r\n            if (response.data.state === 'ready') this.$router.push({ name: 'Pages' })\r\n          })\r\n      } else if (this.$route.name === 'Pages_edit') {\r\n        await this.$api.pages.updateDataPage(this.form.id, this.form)\r\n          .then(response => {\r\n            if (response.data.state === 'ready') this.visibility = true\r\n          })\r\n      }\r\n    },\r\n    redirect () {\r\n      this.$router.push({ name: 'Pages' })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n  .ck.ck-editor__top.ck-reset_all {\r\n    position: sticky;\r\n    top: 61px;\r\n  }\r\n\r\n  .ck.ck-sticky-panel__placeholder {\r\n  }\r\n  .ck.ck-sticky-panel .ck-sticky-panel__content_sticky {\r\n    position: sticky;\r\n    top: 61px;\r\n  }\r\n</style>\r\n","import { render } from \"./e_n_page.vue?vue&type=template&id=342a0dec\"\nimport script from \"./e_n_page.vue?vue&type=script&lang=js\"\nexport * from \"./e_n_page.vue?vue&type=script&lang=js\"\n\nimport \"./e_n_page.vue?vue&type=style&index=0&id=342a0dec&lang=css\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}